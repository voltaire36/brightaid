<!DOCTYPE html>
<html lang="en">
<head>
    <title>Page title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">
    <link rel="icon" type="image/png" sizes="32x32" href="shuffle-for-bootstrap.png">
</head>
<body>
    <div>
        <!-- Navbar Section -->
        <section class="overflow-hidden">
            <nav class="navbar navbar-dark navbar-expand-lg bg-white py-5 py-lg-1">
                <div class="container-fluid">
                    <a class="navbar-brand" href="index.html">
                        <img class="img-fluid" src="images/bricongreensmallbare.png" alt="">
                    </a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu" aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-center" id="navbarMenu">
                        <ul class="navbar-nav">
                            <li class="nav-item p-6"><a class="nav-link link-secondary-dark p-0" href="campaigns.html">Campaigns</a></li>
                            <li class="nav-item p-6"><a class="nav-link link-secondary p-0" href="about.html">About</a></li>
                            <li class="nav-item p-6">
                                <a id="dashboardLink" class="nav-link link-secondary p-0" href="#">Dashboard</a>
                            </li>
                        </ul>
                    </div>
                    <div class="d-none d-lg-block">
                        <div class="row align-items-center g-6" id="authLinks">
                            <div class="col-auto"><a id="loginLink" class="link-secondary fs-11 fw-medium" href="sign-in-page.html">Log In</a></div>
                            <div class="col-auto"><a id="signUpLink" class="btn btn-sm btn-success text-success-light shadow" href="sign-up-filter.html">Sign Up</a></div>
                        </div>
                    </div>
                    <div class="d-lg-none">
                        <a class="btn navbar-burger p-0" href="#">
                            <svg width="35" height="35" viewbox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect class="text-light-light" width="32" height="32" rx="6" fill="currentColor"></rect>
                                <path class="text-secondary" d="M7 12H25C25.2652 12 25.5196 11.8946 25.7071 11.7071C25.8946 11.5196 26 11.2652 26 11C26 10.7348 25.8946 10.4804 25.7071 10.2929C25.5196 10.1054 25.2652 10 25 10H7C6.73478 10 6.48043 10.1054 6.29289 10.2929C6.10536 10.4804 6 10.7348 6 11C6 11.2652 6.10536 11.5196 6.29289 11.7071C6.48043 11.8946 6.73478 12 7 12ZM25 15H7C6.73478 15 6.48043 15.1054 6.29289 15.2929C6.10536 15.4804 6 15.7348 6 16C6 16.2652 6.10536 16.5196 6.29289 16.7071C6.48043 16.8946 6.73478 17 7 17H25C25.2652 17 25.5196 16.8946 25.7071 16.7071C25.8946 16.5196 26 16.2652 26 16C26 15.7348 25.8946 15.4804 25.7071 15.2929C25.5196 15.1054 25.2652 15 25 15ZM25 20H7C6.73478 20 6.48043 20.1054 6.29289 20.2929C6.10536 20.4804 6 20.7348 6 21C6 21.2652 6.10536 21.5196 6.29289 21.7071C6.48043 21.8946 6.73478 22 7 22H25C25.2652 22 25.5196 21.8946 25.7071 21.7071C25.8946 21.5196 26 21.2652 26 21C26 20.7348 25.8946 20.4804 25.7071 20.2929C25.5196 20.1054 25.2652 20 25 20Z" fill="currentColor"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </nav>
        </section>
        <!-- End of Navbar Section -->
    </div>
    <script src="js/bootstrap/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const currentUser = JSON.parse(localStorage.getItem("currentUser"));
            console.log("Current User:", currentUser); // Debugging

            const loginLink = document.getElementById("loginLink");
            const signUpLink = document.getElementById("signUpLink");
            const dashboardLink = document.getElementById("dashboardLink");

            if (currentUser) {
                // Ensure firstName exists
                loginLink.textContent = `Welcome, ${currentUser.firstName || "User"}`;
                loginLink.href = "#";
                signUpLink.textContent = "Log Out";
                signUpLink.href = "#";
                signUpLink.onclick = () => {
                    localStorage.removeItem("currentUser");
                    window.location.href = "sign-in-page.html";
                };

                // Ensure role-based dashboard redirection
                dashboardLink.href =
                    currentUser.role === "Donor" ? "dashboard-donor.html" : "dashboard-student.html";
            }
        });

    </script>
</body>
</html>
